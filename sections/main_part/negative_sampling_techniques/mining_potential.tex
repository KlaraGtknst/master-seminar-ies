\subsection{Mining potential negatives}\label{subsec:mining_potential_negatives}
% TODO: better not use, bc EMA architecture with online and target encoder

\citet{mining_potential_2024} propose both a positive and negative sampling strategy for \ac{cl}.
% positive sampling
In terms of positive sampling, they want to create diverse and authentic positive samples, 
which poses a dilemma since augmentation strategies lack diversity while sampling from the batch is prone to produce \acp{fp}.
The \ac{ppsm} approach considers both mined and augmented positive samples in a weighted combination in the loss.
Augmentations are considered positive pairs.
Moreover, a memory bank is used to store the most recent positive samples.
The most similar ones in terms of cosine similarity are saved as potential positive samples $NN(q)$.% similar to representation from target branch
The authors use both a hard sampling strategy and a soft sampling strategy.
The hard sampling strategy selects the most similar positive sample from the memory bank, 
while the soft sampling strategy considers $k$ samples from $NN(q)$ by using a linear combination as the loss.
The loss is composed of weighted terms where each selected positive sample $i$ is weighted 
according to its similarity to the query embedding $s_{qi}$ relative to all other positive samples' similarity $s_{qj}$ as displayed in \eqref{eq:ppsm}.

\begin{equation}
    w_i = \frac{exp(s_{qi})}{\sum_{j=1}^{k}exp(s_{qj})}
    \label{eq:ppsm}
\end{equation}

% negative sampling
Similarly, the authors argue that the negative sampling strategy should be able to mine negatives, 
which provide valuable information, i.e. not too easy, and which are not \acp{fn}, i.e. too difficult.
Negative samples are other samples.
The first step of the \ac{pnsm} approach is to collect 
those samples similar to positive ones in terms of a similarity metric as potential negative samples.
Negative samples are then chosen via a probability distribution based on the squared difference of 
the similarity between the query and potential negative sample embedding 
and the similarity between the query and potential positive sample embedding.
Close (similar) negative samples to positive samples are more likely sampled via Bernoulli sampling.